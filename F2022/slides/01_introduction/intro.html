<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>17-445: Motivation, Syllabus, and Introductions</title>
    <link rel="stylesheet" href="./../css/reveal.css" />
    <link rel="stylesheet" href="./../css/theme/white.css" id="theme" />
    <link rel="stylesheet" href="./../css/highlight/zenburn.css" />
    <link rel="stylesheet" href="./../css/print/paper.css" type="text/css" media="print" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
     <script src="./../rplugin/spreadsheet/ruleJS.all.full.min.js"></script>
   <link rel="stylesheet" href="./../rplugin/spreadsheet/spreadsheet.css">
    <link rel="stylesheet" href="./../_assets/_assets/cmu.css" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><div id="footer">17-445 Machine Learning in Production / AI Engineering, Eunsuk Kang & Christian Kaestner</div><section  data-markdown><script type="text/template">  

# Machine Learning in Production /
# AI Engineering 

## Motivation, Syllabus, and Introductions

Spring 2022, Eunsuk Kang & Christian Kaestner

</script></section><section ><section data-markdown><script type="text/template">
# We are back online :(

If you can hear me, open the participant panel in Zoom and check "yes"

![Zoom interface](zoomvote.png)
</script></section><section data-markdown><script type="text/template">## This is not normal. We understand.

![Fire](https://www.abc27.com/wp-content/uploads/sites/55/2020/08/AP20232111894684.jpg)
<!-- .element: class="stretch" -->


<aside class="notes"><p>Picture AP Photo/Noah Berger, <a href="https://www.abc27.com/news/thats-2020-photographers-california-wildfire-image-a-sign-of-the-times/">https://www.abc27.com/news/thats-2020-photographers-california-wildfire-image-a-sign-of-the-times/</a></p>
</aside></script></section><section data-markdown><script type="text/template">## This is not normal. We understand.

Expect:
* Internet and bandwidth issues
* Timezone issues?
* Distractions -- parents, siblings, pets
* Feeling isolated, feeling overwhelmed
* Additional sources of stress
* Hard time dealing with -gestures widely- *everything*...

*Talk to us about accommodations of any kind*


</script></section><section data-markdown><script type="text/template">## Simulating in-class experience

> Discussions and interactions are important. We'll have regular in-class discussions and exercises

* Use chat, "raise hand" feature, or just speak
* If possible, keep camera on, muted by default
* Set preferred name in Zoom
* Synchronous "live" attendance only
* 
* Suggestion: Have chat and participant list open, maybe separate window for gallery view for faces, second monitor highly recommended
* **Contact us for accommodations!**

</script></section><section data-markdown><script type="text/template">## Catastrophic Success

![Crowd](crowd.jpg)

</script></section><section data-markdown><script type="text/template">## Personal Connection

> This is hard. We know.

* Talk inside and outside of class
* We are here always 10 min before class and stay after class if you have questions, want to chat
* We encourage collaboration in all assignments, even "individual" assignments and reading quizzes
* We encourage social activities in teams



</script></section></section><section  data-markdown><script type="text/template">
## Learning Goals

* Understand how ML components are parts of larger systems
* Illustrate the challenges in engineering an ML-enabled system beyond accuracy
* Explain the role of specifications and their lack in machine learning and the relationship to deductive and inductive reasoning
* Summarize the respective goals and challenges of software engineers vs data scientists
* Explain the concept and relevance of "T-shaped people"
</script></section><section  data-markdown><script type="text/template">
# Disclaimers

This class captures a rapidly evolving field. 

We are scaling from 30 to 150 students. Expect some friction.

We are software engineers.
</script></section><section  data-markdown><script type="text/template">
# Agenda

```mermaid
graph LR;
    Preliminaries --> C["Case Study"];
    C --> Syllabus;
    Syllabus --> Introductions;
```
</script></section><section ><section data-markdown><script type="text/template">
# Case Study: The Transcription Service Startup
</script></section><section data-markdown><script type="text/template">
![competitor](transcription.png)
</script></section><section data-markdown><script type="text/template">
## Transcription services

* Take audio or video files and produce text.
    - Used by academics to analyze interview text
    - Podcast show notes
    - Subtitles for videos

* State of the art: Manual transcription, often mechanical turk (1.5 $/min)
</script></section><section data-markdown><script type="text/template">
## The startup idea

PhD research on domain-specific speech recognition, that can detect technical jargon

DNN trained on public PBS interviews + transfer learning on smaller manually annotated domain-specific corpus

Research has shown amazing accuracy for talks in medicine, poverty and inequality research, and talks at Ruby programming conferences; published at top conferences

Idea: Let's commercialize the software and sell to academics and conference organizers
</script></section><section data-markdown><script type="text/template">
## Short Breakout

**Likely challenges in building commercial product?**

* Think about challenges that the team will likely focus when turning their research into *a product*:
  * One machine-learning challenge
  * One engineering challenge in building the product
  * One challenge from operating and updating the product
  * One team or management challenge
  * One business challenge
  * One safety or ethics challenge

* Fill out one form per team and meet back here in 8 minutes to share suggestions
</script></section><section data-markdown><script type="text/template">
## What qualities are important for a good commercial transcription product?

<!-- discussion -->

</script></section><section data-markdown><script type="text/template">## ML in a Production System


![Architecture diagram of transcription service; many components, not just ML](transcriptionarchitecture.svg)
<!-- .element: class="plain" -->

</script></section><section data-markdown><script type="text/template">## ML in a Production System


![Architecture diagram of transcription service; many components, not just ML](transcriptionarchitecture2.svg)
<!-- .element: class="plain" -->

</script></section><section data-markdown><script type="text/template">
![Screenshot of Temi transcription service](temi.png)

<aside class="notes"><p>Highlights challenging fragments. Can see what users fix inplace to correct. Star rating for feedback.</p>
</aside></script></section><section data-markdown><script type="text/template">
<svg version="1.1" viewBox="0.0 0.0 800 400" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
        <style>
    text { font: 60px sans-serif; }
        </style>
        <circle r="180" cx="250", cy="200" fill="#b9ff00" fill-opacity="0.514" />
        <circle r="180" cx="550", cy="200" fill="#ff5500" fill-opacity="0.514" />
        <text x=230 y=160 dominant-baseline="middle" text-anchor="middle">Data</text>
        <text x=230 y=240 dominant-baseline="middle" text-anchor="middle">Scientists</text>
        <text x=570 y=160 dominant-baseline="middle" text-anchor="middle">Software</text>
        <text x=570 y=240 dominant-baseline="middle" text-anchor="middle">Engineers</text>
</svg>

and Data engineers + Domain specialists + Operators + Business team + Project managers + Designers, UI Experts + Safety, security specialists + Lawyers + Social scientists + ...
</script></section><section data-markdown><script type="text/template">## Data scientist

* Often fixed dataset for training and evaluation (e.g., PBS interviews)
* Focused on accuracy
* Prototyping, often Jupyter notebooks or similar 
* Expert in modeling techniques and feature engineering
* Model size, updateability, implementation stability typically does not matter

<!-- split -->

## Software engineer

* Builds a product
* Concerned about cost, performance, stability, release time
* Identify quality through customer satisfaction
* Must scale solution, handle large amounts of data
* Detect and handle mistakes, preferably automatically
* Maintain, evolve, and extend the product over long periods
* Consider requirements for security, safety, fairness
</script></section><section data-markdown><script type="text/template">
## Likely collaboration challenges?

* Everybody, **type one or two likely collaboration challenges in the chat but *do not send them yet*. Vote "yes" when done.**

<!-- discussion -->

</script></section><section data-markdown><script type="text/template">## What might Software Engineers and Data Scientists Focus on?


![Screenshot of Temi transcription service](temi.png)



</script></section><section data-markdown><script type="text/template">
![Unicorns](roles_venn.svg)
<!-- .element: class="plain" -->


<!-- references -->
By Steven Geringer, via Ryan Orban. [Bridging the Gap Between Data Science & Engineer: Building High-Performance Teams](https://www.slideshare.net/ryanorban/bridging-the-gap-between-data-science-engineer-building-highperformance-teams/3-Software_Engineer_Data_Engineer_Data). 2016

</script></section><section data-markdown><script type="text/template">## T-Shaped People

*Broad-range generalist + Deep expertise*

![T-Shaped](tshaped.png)
<!-- .element: class="plain" -->


<!-- reference -->
Figure: Jason Yip. [Why T-shaped people?](https://medium.com/@jchyip/why-t-shaped-people-e8706198e437). 2018
</script></section><section data-markdown><script type="text/template">## T-Shaped People

*Broad-range generalist + Deep expertise*

Example:
* Basic skills of software engineering, business, distributed computing, and communication
* Deep skills in deep neural networks (technique) and medical systems (domain)

</script></section><section data-markdown><script type="text/template">
## Examples for discussion

* What does correctness or accuracy really mean? What accuracy do customers care about?
* How can we see how well we are doing in practice? How much feedback are customers going to give us before they leave?
* Can we estimate how good our transcriptions are? How are we doing for different customers or different topics?
* How to present results to the customers (including confidence)?
* When customers complain about poor transcriptions, how to prioritize and what to do?
* 
* What are unacceptable mistakes and how can they be avoided? Is there a safety risk?
* Can we cope with an influx of customers?
* Will transcribing the same audio twice produce the same result? Does it matter? 
* How can we debug and fix problems? How quickly?
</script></section><section data-markdown><script type="text/template">
## Examples for discussion 2

* With more customers, transcriptions are taking longer and longer -- what can we do?
* Transcriptions sometimes crash. What to do?
* How do we achieve high availability?
* How can we see that everything is going fine and page somebody if it is not?
* We improve our entity detection model but somehow system behavior degrades... Why?
* Tensorflow update; does our infrastructure still work?
* Once somewhat successful, how to handle large amounts of data per day?
* Buy more machines or move to the cloud?
*
* Models are continuously improved. When to deploy? Can we roll back?
* Can we offer live transcription as an app? As a web service?
* Can we get better the longer a person talks? Should we then go back and reanalyze the beginning? Will this benefit the next upload as well?
</script></section><section data-markdown><script type="text/template">
## Examples for discussion 3

* How many domains can be supported? Do we have the server capacity?
* How specific should domains be? Medical vs "International Conference on Allergy & Immunology"?
* How to make it easy to support new domains?
* 
* Can we handle accents? 
* Better recognition of male than female speakers?
* 
* Can and should we learn from customer data? 
* How can we debug problems on audio files we are not allowed to see?
* Any chance we might private leak customer data? 
* Can competitors or bad actors attack our system?



</script></section></section><section ><section data-markdown><script type="text/template">
# Syllabus and Class Structure

11-695/17-445/17-645/17-745, Spring 2022, 12 units

Monday/Wednesdays 1:25-2:45pm

Recitation Fridays 10:10 / 11:15am
</script></section><section data-markdown><script type="text/template">
## Instructors

Christian Kaestner, Eunsuk Kang

Luke Dramko, Nadia Nahar, Sreenidhi Sundaram, Tasheena Narraidoo, Xuchen Zhang

< brief introductions >
</script></section><section data-markdown><script type="text/template">
## Communication

* Email us or ping us on Slack (invite link on Canvas)
* Class announcements made through Canvas
* Weekly office hours (see Canvas for schedule)
  * Online for the first two weeks
* Post questions on Slack
  * Please use #general and post publicly if possible; your classmates will benefit from your Q&A!
* All course materials (lectures, assignments, etc.,) available on GitHub. Pull requests encouraged!
</script></section><section data-markdown><script type="text/template">
## Class with software engineering flavor

* Focused on engineering judgment
* Arguments, tradeoffs, and justification, rather than single correct answer 
* "it depends..."
* Practical engagement, building systems, testing, automation
* Strong teamwork component
* Not focused on formal guarantees or machine learning fundamentals (modeling, statistics)
* Both text-based and code-based homework assignments
</script></section><section data-markdown><script type="text/template">
## Prerequisites

<!-- colstart -->
**Some machine-learning experience required**

* Basic understanding of data science process, incl data cleaning, feature engineering, learning
* High level understand of machine-learning approaches
    - supervised learning
    - regression, decision trees, neural networks
    - accuracy, recall, precision, ROC curve
* Ideally, some experience with notebooks,  Sklearn or other frameworks

<!-- col -->
**No software-engineering knowledge required**

* Basic programming and command-line skills will be needed
* Teamwork experience in product team is useful but not required
* No required exposure to requirements, software testing, software design, continuous integration, containers, process management, etc 
    * If you are familiar with these, there will be some redundancy -- sorry!

<!-- colend -->


</script></section><section data-markdown><script type="text/template">
## Active lecture

* Case study driven
* Discussions highly encouraged
* Contribute your own experience!
* Regular active in-class exercises
* In-class presentations 
* Discussions over definitions
</script></section><section data-markdown><script type="text/template">
![Class Overview](overview.svg)
<!-- .element: class="plain" -->

</script></section><section data-markdown><script type="text/template">## Textbook

Building Intelligent Systems: A Guide to Machine Learning Engineering

by Geoff Hulten

https://www.buildingintelligentsystems.com/

Most chapters assigned at some point in the semester

Supplemented with research articles, blog posts, videos, podcasts, ...

[Electronic version](https://cmu.primo.exlibrisgroup.com/permalink/01CMU_INST/6lpsnm/alma991019649190004436) in the library

<!-- split -->

![Building intelligent systems book](book.webp)
</script></section><section data-markdown><script type="text/template">## We are writting a book

> "Machine Learning in Production: 
> From Models to Products"

Mostly similar coverage to lecture.

Not required, use as supplementary reading.

Not all chapters finished yet.

Feedback appreciated.

Published [online](https://ckaestne.medium.com/machine-learning-in-production-book-overview-63be62393581)
</script></section><section data-markdown><script type="text/template">
## Readings and Quizzes

* Reading assignments for most lectures
  * Preparing in-class discussions
  * Background material, case descriptions, possibly also podcast, video, wikipedia
  * Complement with own research
* Short essay questions on readings, due before start of lecture (Canvas quiz)
* Planned for: about 30-45 min for reading, 15 min for discussing and answering quiz
</script></section><section data-markdown><script type="text/template">
## Assignments

* All [assignments](https://github.com/ckaestne/seai/tree/S2022/assignments) available on GitHub
* Series of 4 small to medium-sized individual assignments 
    * Engage with practical challenges
    * Analyze risks, fairness
    * Reason about tradeoffs and justify your decisions
    * Mostly written reports, a little modeling, limited coding
    * May be done with a partner (more on this later)

* Large [team project](https://github.com/ckaestne/seai/blob/S2022/assignments/project.md) with 4 milestones (mostly in second half)
    - Build and deploy a prediction (movie recommendation) service
    - Testing in production, monitoring
    - Final presentation

* Usually due Wednesday night; see schedule
</script></section><section data-markdown><script type="text/template">
## 17-745 PhD Research Project

* Research project instead of individual assignments I3 and I4
* Design your own research project and write a report
  * A case study, empiricial study, literature survey, etc., 
* See the [project description](https://github.com/ckaestne/seai/blob/S2022/assignments/research_project.md) and talk to us

</script></section><section data-markdown><script type="text/template">## Recitations

Typically hands on exercises, use tools, analyze cases

Designed to introduce tools and discuss material relevant for assignments

First recitation on **this Friday, Jan 21**! Remote work and collaboration with Git
</script></section><section data-markdown><script type="text/template">
## Grading

* 40% individual assignment
* 30% group project with final presentation
* 10% midterm
* 10% participation
* 10% reading quizzes
* No final exam (final presentations will take place instead)
*
* expected grade cutoffs: 81-90% B, 91-100% A
</script></section><section data-markdown><script type="text/template">## Grading Philosophy

* Specification grading, based in adult learning theory
* Giving you choices in what to work on or how to prioritize your work
* We are making every effort to be clear about expectations (specifications), will clarify if you have questions
* Assignments broken down into expectations with point values, each graded **pass/fail**
* You should be able to tell what grade you will get for an assignment when you submit it, depending on what work you chose to do
* Opportunities to resubmit work until last day of class

[[Example]](https://github.com/ckaestne/seai/blob/S2022/assignments/I1_case_study.md#grading)


</script></section><section data-markdown><script type="text/template">
## Participation

* Participation is important
    - Participation in in-class discussions
    - Active participation in recitations
    - Alternative arrangements if you cannot attend classes live
* Participation != Attendance

* Grading:
  * 100%: Participates at least once in most lectures by
    (1) asking or responding to questions or (2) contributing to breakout discussions
  * 100%: Participates in 25% of lectures and actively contributes to discussions in most recitations
  * 90%: Participates at least once in over half of the lectures
  * 70%: Participates at least once in 25% of the lectures
  * 40%: Participates at least once in at least 3 lectures or recitations.
  * 0%: No participation in the entire semester.

</script></section><section data-markdown><script type="text/template">## Flexibility and Accommodations
(details in syllabus)

* 7 tokens per student:
    - Submit individual assignment 1 day late for 1 token (after running out of tokens 15% penalty per late day)
    - Redo individual assignment for 3 token
    - Resubmit or submit reading quiz late for 1 token
    - Remaining tokens count toward participation
*
* 7 tokens per team:
    - Submit milestone 1 day late for 1 token (no late submissions accepted when out of tokens)
    - Redo milestone for 3 token 

* Exceptions and accommodations on request, email us.
</script></section><section data-markdown><script type="text/template">## Group project

* Instructor-assigned teams
* Teams stay together for project throughout semester, starting next week
* Please fill out survey after class on **Monday, Jan 24**
* Some advice in lectures; we'll help with debugging team issues
* Peer grading on all milestones (based on citizenship on team)
</script></section><section data-markdown><script type="text/template">## Additional groupwork options

* Encouraging interactions 
* Can complete all individual assignments and quizzes as pairs 
* Can't work with the same partner again on a different assignment/quiz
* 
* Bonus points for social interaction in project teams
  * See "Social Activities Bonus" on the [project description](https://github.com/ckaestne/seai/blob/S2022/assignments/project.md)


</script></section><section data-markdown><script type="text/template">
## Academic honesty

See web page

In a nutshell: do not copy, do not lie, do not share or publicly release your solutions

In group work, be honest about contributions of team members, do not cover for others

If you feel overwhelmed or stressed, please come and talk to us (see syllabus for other support opportunities)


</script></section></section><section ><section data-markdown><script type="text/template"># What makes software with ML challenging?

</script></section><section data-markdown><script type="text/template">## ML Models Make Mistakes

![ML image captioning mistakes](mistakes.jpg)
<!-- .element: class="stretch" -->


<aside class="notes"><p>Source: <a href="https://www.aiweirdness.com/do-neural-nets-dream-of-electric-18-03-02/">https://www.aiweirdness.com/do-neural-nets-dream-of-electric-18-03-02/</a></p>
</aside></script></section><section data-markdown><script type="text/template">## Lack of Specifications

```java
/**
  Return the text spoken within the audio file
  ????
*/
String transcribe(File audioFile);
```
</script></section><section data-markdown><script type="text/template">## Data Focused and Scalable

![The ML Flywheel](flywheel.png)
<!-- .element: class="plain" -->
</script></section><section data-markdown><script type="text/template">## Interaction with the environment



![Architecture diagram of transcription service; many components, not just ML](transcriptionarchitecture.svg)
<!-- .element: class="plain" -->
</script></section><section data-markdown><script type="text/template">## It's not all new

* Safe software with unreliable components
* Cyberphysical systems
* Non-ML big data systems, cloud systems
* "Good enough" and "fit for purpose" not "correct"
*
* We routinely build such systems
* ML intensifies our challenges
</script></section><section data-markdown><script type="text/template">## Complexity
![Complexity prediction](complexity.svg)
<!-- .element: class="plain" -->
</script></section></section><section  data-markdown><script type="text/template"># INTRODUCTIONS

By the end of today, enter into Slack channel #intro:

* Your (preferred) name
* In 1~2 sentences, your data science background and goals (e.g., coursework, internships, work experience)
* In 1~2 sentences, your software engineering background, if any, and goals  (e.g., coursework, internships, work experience)
* One topic you are particularly interested in learning during this course?
* A hobby or a favorite activity outside school
</script></section><section  data-markdown><script type="text/template">
# Summary

* Machine learning components are part of larger systems
* *Data scientists* and *software engineers* have different goals and focuses
  * Building systems requires both
  * Various qualities are relevant, beyond just accuracy
* Machine learning brings new challenges and intensifies old ones
</script></section></div>
    </div>

    <script src="./../js/reveal.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // Optional libraries used to extend on reveal.js
      var deps = [
        { src: './../plugin/markdown/marked.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: './../plugin/zoom-js/zoom.js', async: true },
        { src: './../plugin/notes/notes.js', async: true },
        { src: './../plugin/math/math.js' },
        { src: './../rplugin/embed-tweet/embed-tweet.js' },
        { src: './../rplugin/menu/menu.js', async: true },
        { src: './../rplugin/spreadsheet/spreadsheet.js' },
        { src: './../rplugin/chalkboard/chalkboard.js', async: true }
      ];

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        dependencies: deps,
	chalkboard: { // font-awesome.min.css must be available
		toggleChalkboardButton: { left: "80px" },
		toggleNotesButton: { left: "130px" },
	},
	keyboard: {
	    67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
	    66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
	    46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
	     8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
	    68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
	    88: function() { RevealChalkboard.colorNext() },	// cycle colors forward when 'x' is pressed
	    89: function() { RevealChalkboard.colorPrev() },	// cycle colors backward when 'y' is pressed
	}
      };

      // options from URL query string
      var queryOptions = Reveal.getQueryHash() || {};

      var options = extend(defaultOptions, {"controls":true,"progress":true,"theme":"white","slideNumber":true,"hash":true,"center":false}, queryOptions);
    </script>

    <script src="./../_assets/_assets/loadmymarkdown.js"></script>

    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
